---
title: "AuthKit 자동 구성"
sidebar_label: "자동 구성"
sidebar_position: 20
description: "Convex와 WorkOS AuthKit 인증"
---

AuthKit 구성은 클라우드 개발 배포에 대해 자동화될 수 있습니다: 각 Convex 배포는 자체 WorkOS 환경을 구성하고 `.env.local`에 로컬 환경 변수가 추가되며 Convex 배포 환경 변수가 설정됩니다.

이 통합은 활발히 개발 중이며 계속 개선됨에 따라 변경될 것입니다. 오늘날 이 통합은 `npm create convex@latest`를 실행할 때 제공되는 두 AuthKit 템플릿과 작동합니다.

## 온디맨드 WorkOS 환경 생성

Convex 배포를 위한 WorkOS 환경 자동 프로비저닝은 Convex 팀과 연결할 새 WorkOS 계정 및 팀을 생성하여 활성화됩니다. 이 계정이 생성되면 Convex 팀의 모든 구성원이 팀의 각 프로젝트에서 개발 배포를 위한 WorkOS 환경을 생성할 수 있습니다.

이는 `convex dev` 중에 `convex/auth.config.ts` 파일에서 `WORKOS_CLIENT_ID` 환경 변수를 읽지만 배포에 설정되지 않은 경우 자동으로 발생합니다.

그런 다음 CLI는 개발 Convex 배포에 대해 AuthKit을 구성하는 데 필요한 [수동 구성 단계](/docs/auth/authkit/index.mdx#configuring-an-existing-workos-account)를 대체하는 AuthKit 관련 구성 변경을 수행합니다.

현재 이는 가정된 로컬 개발 도메인으로 다음을 구성합니다:

- 리디렉션 엔드포인트 URI
- CORS origin

다음 로컬 환경 변수는 `.env.local`에 설정될 수 있습니다:

- `VITE_WORKOS_CLIENT_ID` (Vite만 해당)
- `WORKOS_CLIENT_ID` (Next.js만 해당)
- `*_WORKOS_REDIRECT_URI` (예: `VITE_WORKOS_REDIRECT_URI`)
- `WORKOS_API_KEY` (Next.js만 해당)
- `WORKOS_COOKIE_PASSWORD` (Next.js만 해당)

### 제한 사항

WorkOS 환경은 현재 클라우드 개발 배포에 대해서만 생성될 수 있습니다. 프리뷰 및 프로덕션 배포는 수동으로 구성해야 합니다.

프로덕션 배포를 수동으로 구성하려면 이 프로젝트의 프로덕션 환경에 대한 WorkOS 페이지를 방문하고 [이 단계를 따르세요](/docs/auth/authkit/index.mdx#configuring-an-existing-workos-account).
기본적으로 WorkOS 팀당 하나의 프로덕션 배포만 존재하므로 추가 프로젝트는 별도의 WorkOS 팀을 사용해야 할 수 있습니다.
