---
title: "백업 및 복원"
sidebar_position: 85
description: "Convex 데이터 및 파일 백업 및 복원"
---

Convex는 [대시보드](https://dashboard.convex.dev/deployment/settings/backups)를 통해 데이터의 백업 및 복원을 지원합니다.

![백업 페이지](/screenshots/backups.png)

# 백업

백업은 요청 시점에 생성된 테이블 데이터 및 파일 스토리지의 일관된 스냅샷입니다.

"지금 백업" 버튼을 눌러 수동 백업을 수행합니다. 배포에 있는 데이터의 양에 따라 몇 초에서 몇 시간이 걸릴 수 있습니다.

수동 백업은 7일 동안 저장됩니다. 이 페이지를 통해 백업을 다운로드하거나 삭제할 수 있습니다.

배포 구성 및 기타 데이터(코드, 환경 변수, 예약된 함수 등)는 포함되지 않습니다.

### 주기적 백업

"자동으로 백업" 상자를 체크하여 주기적인 일일 또는 주간 백업을 예약합니다. 백업이 발생할 시간/요일을 선택할 수 있습니다.

일일 백업은 7일 동안 저장됩니다. 주간 백업은 14일 동안 저장됩니다.

<ProFeatureUpsell feature="주기적 백업" verb="require" />

### 백업에서 복원

개별 백업의 하위 메뉴에서 "복원"을 선택하여 백업에서 복원합니다. 백업 페이지의 배포 선택기를 사용하여 동일한 배포 또는 동일한 팀의 다른 배포에서 백업을 복원할 수 있습니다. 복원은 백업에 있는 데이터의 양에 따라 몇 초에서 몇 시간이 걸릴 수 있습니다.

복원은 기존 데이터를 지우고 백업의 데이터로 교체하는 파괴적인 작업입니다. 복원을 수행하기 전에 추가 백업을 생성하는 것이 좋습니다.

### 긴급 상황에서 복원

프로덕션 배포가 나쁜 상태가 되면 양호한 상태로 돌아가기 위해 복원을 고려할 수 있습니다. 데이터를 양호한 상태로 가져오는 것만으로는 충분하지 않을 수 있습니다. 다음 각 작업이 필요한지 고려하십시오. 비상 상황의 특성에 따라 이러한 작업이 필요할 수 있습니다.

- 복원은 파괴적이므로 복원 전에 추가 백업을 수행합니다
- 양호한 백업에서 복원을 수행 - 데이터 복원
- `npx convex dev`를 사용하여 알려진 양호한 코드 버전을 푸시합니다.
- `npx convex env` 또는 대시보드를 사용하여 양호한 환경 변수 세트로 복원합니다
- 대시보드를 사용하여 앱의 데이터베이스에 수동 수정을 수행합니다.
- 앱의 데이터베이스에 필요한 (더 프로그래밍적인) 수동 수정을 수행하기 위해 뮤테이션을 작성합니다.

# 백업 다운로드

대시보드에서 메뉴의 다운로드 버튼을 통해 수동 및 주기적 백업을 다운로드할 수 있습니다.

또는 [명령줄](/cli.md#export-data-to-a-file)로 동일한 형식의 내보내기를 생성할 수 있습니다:

```sh
npx convex export --path ~/Downloads
```

백업은 배포의 모든 Convex 테이블의 모든 문서가 포함된 생성된 ZIP 파일로 제공됩니다.

ZIP 파일의 이름은 `snapshot_{ts}.zip` 형식을 가지며, 여기서 `ts`는 나노초 단위의 스냅샷의 UNIX 타임스탬프입니다. 내보내기 ZIP 파일에는 `<table_name>/documents.jsonl`에 각 테이블의 문서가 포함되며, 한 줄에 하나의 문서가 있습니다.

내보낸 ZIP 파일에는 `_storage` 폴더에 [파일 스토리지](/file-storage)의 데이터도 포함되며, `_storage/documents.jsonl`에 ID 및 체크섬과 같은 메타데이터가 있고 각 파일은 `_storage/<id>`로 있습니다.

### 다운로드한 백업 사용

다운로드한 ZIP 파일은 [CLI를 통해](/database/import-export/import.mdx#restore-data-from-a-backup-zip-file) 동일한 배포 또는 다른 배포로 가져올 수 있습니다.

## FAQ

### 제한 사항이 있나요?

각 백업은 최대 7일 동안 액세스할 수 있습니다.

무료/스타터 플랜에서는 배포당 최대 두 개의 백업을 동시에 저장할 수 있습니다.
Convex Professional 플랜의 배포는 표준 사용량 기반 가격으로 많은 백업을 가질 수 있습니다.

### 가격은 어떻게 책정되나요?

백업은 모든 문서를 읽기 위해 데이터베이스 대역폭을 사용하고, 사용자 파일을 포함하기 위해 파일 대역폭을 사용합니다. 백업 자체의 생성 및 저장은 사용자 파일 스토리지와 동일한 대역폭 및 스토리지 가격으로 청구됩니다. [사용량 대시보드](https://dashboard.convex.dev/team/settings/usage)에서 이 대역폭 및 스토리지 비용을 확인할 수 있습니다. 가격 세부 정보는 [제한 문서](/production/state/limits#database)를 확인하세요.

### 백업에 포함되지 않는 것은 무엇인가요?

백업에는 테이블의 문서와 파일 스토리지의 파일만 포함됩니다. 특히 다음이 없습니다:

1. 배포의 코드 및 구성. Convex 함수, crons.ts, auth.config.js, schema.ts 등은 소스 코드에서 구성됩니다.
2. 보류 중인 예약된 함수. [`_scheduled_functions`](/database/advanced/system-tables.mdx) 시스템 테이블에서 보류 중인 예약된 함수에 액세스할 수 있습니다.
3. 환경 변수. 환경 변수는 Convex 대시보드의 설정에서 복사할 수 있습니다.
