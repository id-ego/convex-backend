---
title: ESLint rules
sidebar_position: 30
description: ESLint rules for Convex
---

Convex í•¨ìˆ˜ë¥¼ ìœ„í•œ ESLint ê·œì¹™ì€ ëª¨ë²” ì‚¬ë¡€ë¥¼ ê°•ì œí•©ë‹ˆë‹¤. ë„ì›€ì´ ë  ë§Œí•œ ê·œì¹™ì´ ìˆë‹¤ë©´ ì•Œë ¤ì£¼ì„¸ìš”!

## ì„¤ì •

ESLint 9 (flat config, `eslint.config.js` ì‚¬ìš©)ì˜ ê²½ìš°, ë‹¤ìŒê³¼ ê°™ì´ ê·œì¹™ì„ ì„¤ì¹˜í•˜ì„¸ìš”:

```bash
npm i @convex-dev/eslint-plugin --save-dev
```

ê·¸ë¦¬ê³  `eslint.config.js` íŒŒì¼ì— ë‹¤ìŒì„ ì¶”ê°€í•˜ì„¸ìš”:

```ts
import convexPlugin from "@convex-dev/eslint-plugin";
import { defineConfig } from "eslint/config";

export default defineConfig([
  // Other configurations

  ...convexPlugin.configs.recommended,
]);
```

<Details summary={<>ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” <code>.eslintrc.js</code> í˜•ì‹ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°</>}>

ë‹¤ìŒ ë‘ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”:

```bash
npm i @typescript-eslint/eslint-plugin @convex-dev/eslint-plugin --save-dev
```

`.eslintrc.js`ì— ë‹¤ìŒì„ ì¶”ê°€í•˜ì„¸ìš”:

```js
module.exports =
  extends: [
    // Other configurations
    "plugin:@typescript-eslint/recommended",
    "plugin:@convex-dev/recommended",
  ],
  ignorePatterns: ["node_modules/", "dist/", "build/"],
};
```

</Details>

<Details summary={<>Convex í•¨ìˆ˜ê°€ <code>convex</code>ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ë””ë ‰í† ë¦¬ì— ìˆëŠ” ê²½ìš°</>}>

ê¸°ë³¸ì ìœ¼ë¡œ Convex ESLint í”ŒëŸ¬ê·¸ì¸ì€ `convex` ë””ë ‰í† ë¦¬ì—ë§Œ ê·œì¹™ì„ ì ìš©í•©ë‹ˆë‹¤.

[Convex ë””ë ‰í† ë¦¬ ìœ„ì¹˜ë¥¼ ì‚¬ìš©ì ì§€ì •](/production/project-configuration#changing-the-convex-folder-name-or-location)í•˜ëŠ” ê²½ìš°, ESLint êµ¬ì„±ì„ ë‹¤ìŒê³¼ ê°™ì´ ì¡°ì •í•˜ì„¸ìš”:

```ts
// eslint.config.js

import convexPlugin from "@convex-dev/eslint-plugin";

const recommendedConfig = convexPlugin.configs.recommended[0];
const recommendedRules = recommendedConfig.rules;

export default [
  // Other configurations go here...

  // Custom configuration with modified directory pattern
  {
    files: ["**/src/convex/**/*.ts"],
    plugins: {
      "@convex-dev": convexPlugin,
    },
    rules: recommendedRules,
  },
];
```

</Details>

<Details summary={<>Next.jsì˜ <code>next lint</code> ëª…ë ¹ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°</>}>

`next lint`ê°€ `convex` ë””ë ‰í† ë¦¬ì—ì„œ ESLintë¥¼ ì‹¤í–‰í•˜ë„ë¡ í•˜ë ¤ë©´ í•´ë‹¹ ë””ë ‰í† ë¦¬ë¥¼ ê¸°ë³¸ ë””ë ‰í† ë¦¬ ì„¸íŠ¸ì— ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤. `next.config.ts`ì— ë‹¤ìŒ ì„¹ì…˜ì„ ì¶”ê°€í•˜ì„¸ìš”:

```ts
const nextConfig: NextConfig = {
  /* other options here */

  eslint: {
    dirs: ["pages", "app", "components", "lib", "src", "convex"],
  },
};
```

</Details>

## ê·œì¹™

| ê·œì¹™                                                                                                                                    | ê¶Œì¥ | ìë™ ìˆ˜ì • ê°€ëŠ¥ |
| --------------------------------------------------------------------------------------------------------------------------------------- | :---------: | :----------: |
| [`@convex-dev/no-old-registered-function-syntax`](#no-old-registered-function-syntax)<br/>ë“±ë¡ëœ í•¨ìˆ˜ì— ê°ì²´ êµ¬ë¬¸ ì„ í˜¸ |     âœ…      |      ğŸ”§      |
| [`@convex-dev/require-argument-validators`](#require-argument-validators)<br/>Convex í•¨ìˆ˜ì— ì¸ìˆ˜ ê²€ì¦ê¸° í•„ìˆ˜          |     âœ…      |      ğŸ”§      |
| [`@convex-dev/import-wrong-runtime`](#import-wrong-runtime)<br/>Convex ëŸ°íƒ€ì„ íŒŒì¼ì´ Node ëŸ°íƒ€ì„ íŒŒì¼ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ê²ƒì„ ë°©ì§€     |             |              |

### no-old-registered-function-syntax

ë“±ë¡ëœ í•¨ìˆ˜ì— ê°ì²´ êµ¬ë¬¸ì„ ì„ í˜¸í•©ë‹ˆë‹¤.

Convex ì¿¼ë¦¬, ë®¤í…Œì´ì…˜, ì•¡ì…˜ì€ ë‹¨ì¼ í•¨ìˆ˜ ë˜ëŠ” handler ì†ì„±ì„ í¬í•¨í•˜ëŠ” ê°ì²´ë¡œ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë©´ ì¸ìˆ˜ ë° ë°˜í™˜ ê°’ ê²€ì¦ê¸°ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ í•­ìƒ ì„ í˜¸ë©ë‹ˆë‹¤.

```ts
// âœ… Allowed by this rule:
export const list = query({
  handler: async (ctx) => {
    const data = await ctx.db.query("messages").collect();
    ...
  },
});

// âŒ Not allowed by this rule:
export const list = query(async (ctx) => {
  const data = await ctx.db.query("messages").collect();
  ...
});
```

### require-argument-validators

Convex í•¨ìˆ˜ì— ì¸ìˆ˜ ê²€ì¦ê¸°ë¥¼ í•„ìˆ˜ë¡œ í•©ë‹ˆë‹¤.

Convex ì¿¼ë¦¬, ë®¤í…Œì´ì…˜, ì•¡ì…˜ì€ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê¸° ì „ì— ì¸ìˆ˜ë¥¼ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¸ìˆ˜ íƒ€ì…ì„ ê²€ì¦í•˜ëŠ” ê°„ê²°í•œ ë°©ë²•ì¼ ë¿ë§Œ ì•„ë‹ˆë¼, ì¸ìˆ˜ ê²€ì¦ê¸°ë¥¼ ì‚¬ìš©í•˜ë©´ ë” ìƒì„¸í•œ í•¨ìˆ˜ ìŠ¤í™ì„ ìƒì„±í•  ìˆ˜ ìˆì–´ OpenAPI ë°”ì¸ë”©ì„ ìƒì„±í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.

```ts
// âœ… Allowed by this rule:
export const list = query({
  args: {},
  handler: async (ctx) => {
    ...
  },
});

// âœ… Allowed by this rule:
export const list = query({
  args: { channel: v.id('channel') },
  handler: async (ctx, { channel }) => {
    ...
  },
});

// âŒ Not allowed with option { ignoreUnusedArguments: false } (default)
// âœ… Allowed with option { ignoreUnusedArguments: true }
export const list = query({
  handler: async (ctx) => {
    ...
  },
});

// âŒ Not allowed by this rule:
export const list = query({
  handler: async (ctx, { channel }: { channel: Id<"channel"> }) => {
    ...
  },
});
```

ì´ ê·œì¹™ì€ ì¸ìˆ˜ ê²€ì¦ê¸°ë¥¼ ì •ì˜í•˜ì§€ ì•Šì§€ë§Œ ì¸ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ë¥¼ í—ˆìš©í•˜ë„ë¡ ì‚¬ìš©ì ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ê·œì¹™ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

```ts
// eslint.config.js

export default defineConfig([
  // Your other rulesâ€¦

  {
    files: ["**/convex/**/*.ts"],
    rules: {
      "@convex-dev/require-args-validator": [
        "error",
        {
          ignoreUnusedArguments: true,
        },
      ],
    },
  },
]);
```

### import-wrong-runtime

Convex ëŸ°íƒ€ì„ íŒŒì¼ì´ Node ëŸ°íƒ€ì„ íŒŒì¼(`"use node"` ì§€ì‹œë¬¸ì´ ìˆëŠ” íŒŒì¼)ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ê²ƒì„ ë°©ì§€í•©ë‹ˆë‹¤.

ì´ ê·œì¹™ì€ ì‹¤í—˜ì ì…ë‹ˆë‹¤. ë„ì›€ì´ ë˜ì—ˆë‹¤ë©´ ì•Œë ¤ì£¼ì„¸ìš”!

```ts
// In a file that doesn't use `"use node"`:

// âœ… Allowed by this rule:
import { someFunction } from "./someOtherFile"; // where someOtherFile doesn't use `"use node"`

// âŒ Not allowed by this rule:
import { someFunction } from "./someNodeFile"; // where someNodeFile uses `"use node"`
```
