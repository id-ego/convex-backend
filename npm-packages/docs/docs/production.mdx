---
title: "프로덕션에 앱 배포하기"
hide_table_of_contents: true
pagination_prev: search
description: "안전하고 신뢰할 수 있는 프로덕션 앱 구축을 위한 팁"
---

Convex는 라이브 프로덕션 앱 트래픽을 제공하도록 구축되었습니다. 여기서는 앱의 프로덕션 버전을 배포하고 유지 관리하는 방법을 다룹니다.

## 프로젝트 관리

Convex에 가입하면 Convex 팀이 생성됩니다. [대시보드에서 더 많은 팀을 생성](/dashboard/teams.md)하고 다른 사람을 멤버로 추가할 수 있습니다. 종량제로 팀을 [Starter](https://www.convex.dev/pricing) 플랜으로 업그레이드하거나 추가 기능, 더 높은 기본 제한, 24시간 지원 및 할인된 사용량 기반 가격을 위해 [Professional](https://www.convex.dev/pricing)로 업그레이드할 수 있습니다.

각 팀은 여러 프로젝트를 가질 수 있습니다. 처음으로 `npx convex dev`를 실행하면 프로젝트가 자동으로 생성됩니다. 대시보드에서 프로젝트를 생성할 수도 있습니다.

모든 프로젝트에는 하나의 공유 프로덕션 배포와 팀원당 하나의 개발 배포가 있습니다. 이를 통해 각 팀원은 프로덕션 배포에 배포되기 전에 독립적으로 변경 사항을 만들고 테스트할 수 있습니다.

일반적으로 단일 프로젝트에 속한 모든 배포는 동일한 코드베이스(또는 그 버전)를 실행하지만 Convex는 이를 강제하지 않습니다. 아래 [스테이징](#staging-environment)을 참조하여 다른 프로젝트에 속한 여러 프로덕션 배포에서 동일한 코드베이스를 실행할 수도 있습니다.

## 프로덕션에 배포하기

Convex 배포는 백엔드 로직을 실행하며 대부분의 경우 백엔드를 사용하는 클라이언트도 개발하게 됩니다. 클라이언트가 웹 앱인 경우 [호스팅 및 배포](/production/hosting/hosting.mdx) 가이드를 따라 클라이언트와 Convex 백엔드를 함께 배포하는 방법을 알아보세요.

백엔드를 단독으로 배포할 수도 있습니다. 자세한 내용은 [프로젝트 구성](/production/project-configuration.mdx) 페이지를 확인하세요.

## 스테이징 환경

Convex [미리보기 배포](/production/hosting/preview-deployments.mdx)를 사용하면 팀이 프로덕션에 배포하기 전에 변경 사항을 테스트할 수 있습니다. 더 영구적인 스테이징 환경이 필요한 경우 별도의 Convex 프로젝트를 사용하고 [`npx convex deploy`](/cli.md#deploy-convex-functions-to-production)를 실행할 때 `CONVEX_DEPLOY_KEY` 환경 변수를 설정하여 배포할 수 있습니다.

## 일반적인 팀 개발 워크플로

Convex에서 개발하는 팀은 일반적으로 다음 워크플로를 따릅니다:

1. 팀의 첫 번째 프로젝트인 경우 한 팀원이 대시보드에서 팀을 생성합니다.
2. 한 팀원이 `npx convex dev`를 실행하여 프로젝트를 생성합니다. [퀵스타트](/quickstarts.mdx) 또는 [템플릿](https://www.convex.dev/templates)으로 시작할 수 있습니다.
3. 팀원이 초기 코드에서 Git 리포지토리를 생성하고 팀과 공유합니다(GitHub, GitLab 등을 통해).
4. 다른 팀원들은 코드베이스를 가져와서 `npx convex dev`를 실행하여 자신의 개발 배포를 가져옵니다.
5. 모든 팀원은 백엔드 변경 사항을 만들고 개별 개발 배포로 테스트할 수 있습니다. 변경 사항이 준비되면 팀원은 풀 리퀘스트를 열거나 공유 브랜치에 커밋합니다.
   - [백업 / 복원](/database/backup-restore)을 사용하여 프로덕션 배포의 데이터로 개발 배포를 채울 수 있습니다.
   - [데이터 가져오기](/database/import-export/import.mdx)를 사용하여 합성 시드 데이터로 개발 배포를 채울 수 있습니다.
   - [Pro 플랜](https://www.convex.dev/pricing) 팀원은 서로의 풀 리퀘스트를 테스트하기 위해 별도의 [미리보기 배포](/production/hosting/preview-deployments.mdx)를 가져올 수 있습니다.
6. 프로덕션으로의 배포는 변경 사항이 지정된 브랜치(예: `main`)에 병합될 때 [자동으로](/production/hosting/hosting.mdx) 발생할 수 있습니다.
   - 또는 팀원 중 한 명이 `npx convex deploy`를 실행하여 수동으로 프로덕션에 배포할 수 있습니다.

### 안전한 변경하기

특히 앱이 라이브 상태인 경우 Convex 코드베이스에 대한 변경 사항이 앱을 손상시키지 않도록 해야 합니다.

일부 안전하지 않은 변경 사항은 Convex에서 처리되고 포착되지만 다른 변경 사항은 직접 처리해야 합니다.

1. **스키마는 항상 기존 데이터와 일치해야 합니다.** Convex는 이 제약 조건을 시행합니다. 스키마 적용을 끄지 않는 한 일치하지 않는 기존 데이터가 있는 배포에 스키마를 푸시할 수 없습니다. 일반적으로 다음은 안전합니다:
   1. 스키마에 새 테이블 추가.
   2. 기존 테이블의 스키마에 `optional` 필드를 추가하고, 테이블의 모든 문서에 필드를 설정한 다음, 필드를 필수로 만들기.
   3. 기존 필드를 `optional`로 표시하고, 모든 문서에서 필드를 제거한 다음, 필드를 제거하기.
   4. 기존 필드를 기존 타입과 새 타입의 `union`으로 표시하고, 모든 문서의 필드를 새 타입과 일치하도록 수정한 다음, 타입을 새 타입으로 변경하기.
2. **함수는 하위 호환되어야 합니다.** 유일한 클라이언트가 웹사이트이고 백엔드와 함께 배포하더라도 백엔드가 변경될 때 사용자가 여전히 웹사이트의 이전 버전을 실행하고 있을 수 있습니다. 따라서 이전 클라이언트를 손상시켜도 괜찮을 때까지 함수를 하위 호환되도록 만들어야 합니다. 일반적으로 다음은 안전합니다:
   1. 새 함수 추가.
   2. 기존 함수에 `optional` 명명된 인수 추가.
   3. 기존 명명된 인수를 `optional`로 표시.
   4. 기존 명명된 인수를 기존 타입과 새 타입의 `union`으로 표시.
   5. 이전 클라이언트의 인수가 주어졌을 때 그 동작이 여전히 이전 클라이언트에 허용되는 방식으로 함수의 동작 변경.
3. **예약된 함수는 하위 호환되어야 합니다.** 향후 실행할 함수를 예약할 때 받을 인수 값을 제공합니다. 함수가 실행될 때마다 항상 현재 배포된 버전을 실행합니다. 함수가 예약된 시점과 실행되는 시점 사이에 함수를 변경하는 경우 이전 인수가 주어졌을 때 새 버전이 허용 가능하게 동작하도록 해야 합니다.

<StackPosts query="deploy" />
