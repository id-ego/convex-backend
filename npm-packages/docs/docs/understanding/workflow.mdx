---
title: "Dev workflow"
hidden: false
sidebar_position: 200
description:
  "Development workflow from project creation to production deployment"
---

프로젝트 생성부터 프로덕션에서 앱을 시작하는 데 필요한 모든 것을 살펴보겠습니다.

이 문서는 Convex와 React로 앱을 구축하고 있으며 이미 기본 React 앱이 실행 중이라고 가정합니다. [빠른 시작](/quickstarts.mdx) 중 하나를 따라 설정할 수 있습니다.

## Convex 설치 및 실행하기

앱에 npm 의존성을 추가하여 Convex를 설치합니다:

```sh
npm i convex
```

그런 다음 Convex 프로젝트를 생성하고 백엔드 개발 루프를 시작합니다:

```sh
npx convex dev
```

`npx convex dev` 명령을 처음 실행하면 계정 없이 로컬에서 개발을 시작할지 또는 계정을 생성할지 묻습니다.

### 계정 없이 개발하기

`npx convex dev`는 프로젝트 이름을 묻고, 컴퓨터에서 로컬로 오픈 소스 Convex 백엔드를 실행하기 시작합니다(이것을 "배포"라고도 함).

프로젝트의 데이터는 `~/.convex` 디렉토리에 저장됩니다.

1. 프로젝트 이름이 `.env.local` 파일에 저장되므로 향후 `npx convex dev` 실행 시 이 프로젝트를 사용할 것을 알 수 있습니다.
1. `convex/` 폴더가 생성되며(존재하지 않는 경우), 여기에 Convex 백엔드 함수를 작성합니다.

나중에 `npx convex login`을 실행하여 계정을 생성하고 기존 프로젝트를 연결할 수 있습니다.

### 계정으로 개발하기

`npx convex dev`는 계정이 없는 경우 계정을 생성하는 과정을 안내하고, 컴퓨터의 `~/.convex/config.json`에 자격 증명을 추가합니다. 나중에 `npx convex logout`을 실행하여 컴퓨터에서 계정을 로그아웃할 수 있습니다.

다음으로 `npx convex dev`는 새 프로젝트를 생성하고 이 프로젝트에 대한 새 개인 개발 배포를 프로비저닝합니다:

1.  배포 세부 정보가 자동으로 `.env.local` 파일에 추가되므로 향후 `npx convex dev` 실행 시 연결할 개발 배포를 알 수 있습니다.
1.  `convex/` 폴더가 생성되며(존재하지 않는 경우), 여기에 Convex 백엔드 함수를 작성합니다.

<div className="center-image" style={{ maxWidth: "149px" }}>
  ![Convex directory in your app](/img/convex-directory.png)
</div>

## 개발 루프 실행하기

Convex 앱 작업을 하는 동안 `npx convex dev` 명령을 계속 실행하세요. 이것은 `convex/` 폴더에 작성한 백엔드 코드를 배포에 지속적으로 푸시합니다. 또한 백엔드 코드를 작성할 때 필요한 TypeScript 타입을 최신 상태로 유지합니다.

로컬로 실행 중인 배포로 개발할 때 `npx convex dev`는 배포를 실행하는 역할도 합니다.

그런 다음 Convex 백엔드에 새 서버 함수를 추가할 수 있습니다:

```typescript title="convex/tasks.ts"
import { query } from "./_generated/server";
import { v } from "convex/values";

// 주어진 작업 목록의 마지막 100개 작업을 반환합니다.
export const getTaskList = query({
  args: { taskListId: v.id("taskLists") },
  handler: async (ctx, args) => {
    const tasks = await ctx.db
      .query("tasks")
      .withIndex("taskListId", (q) => q.eq("taskListId", args.taskListId))
      .order("desc")
      .take(100);
    return tasks;
  },
});
```

편집기에서 이 코드를 작성하고 저장하면 여러 가지 일이 발생합니다:

1. `npx convex dev` 명령이 코드를 타입 검사하고 `convex/_generated` 디렉토리를 업데이트합니다.
1. `convex/` 디렉토리의 내용이 개발 배포에 업로드됩니다.
1. Convex 개발 배포가 코드를 분석하고 모든 Convex 함수를 찾습니다. 이 예제에서는 `tasks.getTaskList`가 새로운 공개 쿼리 함수임을 결정합니다.
1. [스키마](/database/schemas.mdx)에 변경 사항이 있으면 배포가 자동으로 적용합니다.
1. `npx convex dev` 명령이 `convex/_generated` 디렉토리의 생성된 TypeScript 코드를 업데이트하여 함수에 대한 엔드투엔드 타입 안전성을 제공합니다.

<Admonition type="tip">
  `convex/_generated/` 디렉토리의 모든 것을 체크인하세요. 이렇게 하면 먼저 `npx convex dev`를 실행하지 않고도 코드가 즉시 타입 검사되고 실행됩니다. 특히 백엔드가 아닌 개발자가 프론트엔드 코드를 작성하고 현재 배포된 백엔드 코드에 대해 코드가 타입 검사되는지 확인하려는 경우 유용합니다.
</Admonition>

완료되면 프론트엔드에서 새 서버 함수를 사용할 수 있습니다:

```typescript title="src/App.tsx"
import { useQuery } from "convex/react";
import { api } from "../convex/_generated/api";

export function App() {
  const data = useQuery(api.tasks.getTaskList);
  return data ?? "Loading...";
}
```

`convex/` 폴더에 [cron](/scheduling/cron-jobs.mdx) 또는 [인증](/auth.mdx)과 같은 다른 구성이 있는 경우, Convex는 백엔드에서 적용되고 시행되도록 합니다.

## Convex 대시보드

[Convex 대시보드](/dashboard/deployments/deployments.md)는 Convex의 개발, 디버그 및 배포 워크플로 전반에 걸쳐 신뢰할 수 있는 도우미가 될 것입니다.

`npx convex dashboard`는 배포에 대한 대시보드 링크를 엽니다.

### 로그

Convex 함수는 TypeScript 함수이므로 항상 표준 `console.log` 및 `console.time` 함수를 사용하여 앱을 디버그할 수 있습니다.

함수의 로그는 [대시보드](/dashboard/deployments/logs.md)에 표시됩니다.

![Logs Dashboard Page](/screenshots/logs.png)

### Health, Data, Functions 등

- [Health](/dashboard/deployments/health.md) - 프로덕션에서 앱이 어떻게 수행되고 있는지에 대한 귀중한 정보를 제공하며, Convex 쿼리가 어떻게 수행되고 있는지에 대한 심층적인 통찰력을 제공합니다.
- [Data](/dashboard/deployments/data.md) - 데이터를 확인할 수 있는 완전한 데이터 브라우저를 제공합니다.
- [Functions](/dashboard/deployments/functions.md) - 함수를 디버그하기 위한 통계 및 실행 기능을 제공합니다.

대시보드에는 훨씬 더 많은 것이 있습니다. 클릭하거나 [문서를 확인](/dashboard.md)하세요.

## 앱 배포하기

지금까지 개인 개발 배포에 대해 앱 작업을 해왔습니다.

모든 Convex 프로젝트에는 클라우드에서 실행되는 하나의 프로덕션 배포가 있습니다. 별도의 데이터가 있으며 개인 개발 배포와 별도의 푸시 프로세스가 있어, 프로덕션에서 실행 중인 앱을 방해하지 않고 개인 개발 배포를 사용하여 새로운 기능을 작업할 수 있습니다.

아직 Convex 계정을 만들지 않았다면 `npx convex login`으로 만들어야 합니다. 이렇게 하면 시작한 모든 프로젝트가 새 계정과 자동으로 연결되고 프로덕션 배포를 사용할 수 있습니다.

프로젝트의 프로덕션 배포에 코드를 푸시하려면 deploy 명령을 실행합니다:

```sh
npx convex deploy
```

<Admonition type="info">
  이 명령을 처음 실행하는 경우, 프로젝트에 대한 프로덕션 배포를 자동으로 프로비저닝합니다.
</Admonition>

### 배포 파이프라인 설정하기

`npx convex deploy`를 직접 실행하는 경우는 드뭅니다. 대부분의 프로덕션 애플리케이션은 테스트를 실행하고 백엔드와 프론트엔드를 함께 배포하는 자동화된 워크플로를 실행합니다.

자세한 배포 및 프론트엔드 구성 지침은 [호스팅 및 배포](/production/hosting/hosting.mdx) 문서를 참조하세요. 대부분의 React 메타 프레임워크의 경우 Convex는 프로덕션 배포에 연결하기 위해 [올바른 환경 변수를 자동으로 설정](/production/hosting/vercel.mdx#how-it-works)합니다.

## 다음 단계

이제 Convex가 어떻게 작동하고 앱에 어떻게 맞는지에 대한 기본 사항을 알았습니다. 사용하려는 특정 기능에 대해 자세히 알아보려면 문서를 더 탐색하세요.

준비가 되면 [모범 사례](/understanding/best-practices/best-practices.mdx)를 읽고, "Convex로 생각하기"를 준비가 되면 [Zen of Convex](/understanding/zen.mdx)를 읽으세요.
